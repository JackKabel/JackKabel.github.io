<div class="calendar-container">
  <div class="calendar-week-view">
    <nb-card accent="info" [status]="isToday(day) ? 'info' : 'basic'" *ngFor="let day of week">
      <nb-card-header>
        <span>{{ day.date | date: 'dd' }}</span>
        <span>{{ day.date | date: 'MMM' }}</span>
      </nb-card-header>
      <nb-card-body>
        <div *ngFor="let req of day.requests" class="user-chip">
          <nb-user size="tiny" [name]="req.user_name"></nb-user>
        </div>
      </nb-card-body>
      <button *ngIf="!checkDay(day.requests)" nbButton ghost (click)="sendRequest(day)">
        <nb-icon status="warning" icon="calendar-outline"></nb-icon>
      </button>
      <button *ngIf="checkDay(day.requests)" nbButton ghost (click)="revokeFreeDay(day)">
        <nb-icon status="warning" icon="close"></nb-icon>
      </button>
    </nb-card>
  </div>
  <div class="steppers">
    <button nbButton status="primary" (click)="goToPreviousWeek()">Previous Week</button>
    <h3>{{ currentWeekRange }}</h3>
    <button nbButton status="primary" (click)="goToNextWeek()">Next Week</button>
  </div>
</div>
